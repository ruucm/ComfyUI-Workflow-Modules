{"id":"d67fcaff-5008-4def-8bc2-7f9f1c74a95e","revision":0,"last_node_id":61,"last_link_id":63,"nodes":[{"id":9,"type":"easy showAnything","pos":[290.88531494140625,-292.9921569824219],"size":[249.24609375,95.50975036621094],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"anything","name":"anything","shape":7,"type":"*","link":8}],"outputs":[{"localized_name":"output","name":"output","type":"*","links":[]}],"title":"Frame Count","properties":{"Node name for S&R":"easy showAnything","cnr_id":"comfyui-easy-use","ver":"1.3.0","widget_ue_connectable":{}},"widgets_values":["161"]},{"id":44,"type":"VHS_VideoCombine","pos":[3542.27587890625,-291.0144958496094],"size":[622.3604125976562,950.3604125976562],"flags":{},"order":34,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":44},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":48},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":49},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":63},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"Node name for S&R":"VHS_VideoCombine","cnr_id":"comfyui-videohelpersuite","ver":"1.7.2","widget_ue_connectable":{}},"widgets_values":{"frame_rate":0,"loop_count":0,"filename_prefix":"Upscaled_Interpolated_","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"Upscaled_Interpolated__00001.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":32,"workflow":"Upscaled_Interpolated__00001.png","fullpath":"C:\\Users\\Yongmin\\Downloads\\ai-generative\\ComfyUI\\output\\Upscaled_Interpolated__00001.mp4"}}}},{"id":43,"type":"RIFE VFI","pos":[3163.3720703125,-291.0144958496094],"size":[348.46600341796875,215.87725830078125],"flags":{},"order":33,"mode":0,"inputs":[{"localized_name":"frames","name":"frames","type":"IMAGE","link":57},{"localized_name":"optional_interpolation_states","name":"optional_interpolation_states","shape":7,"type":"INTERPOLATION_STATES","link":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"clear_cache_after_n_frames","name":"clear_cache_after_n_frames","type":"INT","widget":{"name":"clear_cache_after_n_frames"},"link":null},{"localized_name":"multiplier","name":"multiplier","type":"INT","widget":{"name":"multiplier"},"link":42},{"localized_name":"fast_mode","name":"fast_mode","type":"BOOLEAN","widget":{"name":"fast_mode"},"link":null},{"localized_name":"ensemble","name":"ensemble","type":"BOOLEAN","widget":{"name":"ensemble"},"link":null},{"localized_name":"scale_factor","name":"scale_factor","type":"COMBO","widget":{"name":"scale_factor"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[44]}],"properties":{"Node name for S&R":"RIFE VFI","cnr_id":"comfyui-frame-interpolation","ver":"1.0.7","widget_ue_connectable":{}},"widgets_values":["rife47.pth",50,3,false,true,1]},{"id":26,"type":"easy mathFloat","pos":[553.2494506835938,289.5358581542969],"size":[221.98202514648438,106],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"a","name":"a","type":"FLOAT","widget":{"name":"a"},"link":61},{"localized_name":"b","name":"b","type":"FLOAT","widget":{"name":"b"},"link":null},{"localized_name":"operation","name":"operation","type":"COMBO","widget":{"name":"operation"},"link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[35]}],"title":"Multiplier","properties":{"Node name for S&R":"easy mathFloat","cnr_id":"comfyui-easy-use","ver":"1.3.0","widget_ue_connectable":{}},"widgets_values":[0,4.000000000000001,"multiply"]},{"id":8,"type":"VHS_VideoCombine","pos":[1222.982177734375,-175.29421997070312],"size":[630.9547729492188,958.9547729492188],"flags":{},"order":30,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":19},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":47},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":10},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":41},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"Node name for S&R":"VHS_VideoCombine","cnr_id":"comfyui-videohelpersuite","ver":"1.7.2","widget_ue_connectable":{}},"widgets_values":{"frame_rate":0,"loop_count":0,"filename_prefix":"Upscaled_","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"Upscaled__00001.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":16,"workflow":"Upscaled__00001.png","fullpath":"C:\\Users\\Yongmin\\Downloads\\ai-generative\\ComfyUI\\output\\Upscaled__00001.mp4"}}}},{"id":32,"type":"MarkdownNote","pos":[562.7879028320312,-226.141845703125],"size":[266.5442810058594,114.29840850830078],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"title":"Tip ‚ùó","properties":{"widget_ue_connectable":{}},"widgets_values":["**Tip:** If you encounter **out of memory errors**, enable the **Meta Batch Manager** and set its value **lower** than the number output by **Frame Count**.  \nThis limits how many frames are processed per batch, reducing memory usage during video workflows.\n"],"color":"#332922","bgcolor":"#593930"},{"id":16,"type":"ImageScaleBy","pos":[553.2494506835938,158.0509796142578],"size":[221.98202514648438,82],"flags":{},"order":29,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":16},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"scale_by","name":"scale_by","type":"FLOAT","widget":{"name":"scale_by"},"link":36}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[19,51]}],"properties":{"Node name for S&R":"ImageScaleBy","cnr_id":"comfy-core","ver":"0.3.46","widget_ue_connectable":{}},"widgets_values":["lanczos",1]},{"id":53,"type":"VHS_VideoCombine","pos":[2192.72509765625,-291.8701171875],"size":[618.616455078125,334],"flags":{},"order":32,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":52},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":54},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":53},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":56},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"Node name for S&R":"VHS_VideoCombine","cnr_id":"comfyui-videohelpersuite","ver":"1.7.2","widget_ue_connectable":{}},"widgets_values":{"frame_rate":0,"loop_count":0,"filename_prefix":"Upscaled_FaceRestored_","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":true,"params":{"filename":"Upscaled_FaceRestored__00002.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":16,"workflow":"Upscaled_FaceRestored__00002.png","fullpath":"S:\\ComfyUI_windows_portable\\ComfyUI\\output\\Upscaled_FaceRestored__00002.mp4"}}}},{"id":4,"type":"VHS_BatchManager","pos":[290.88531494140625,-133.8880615234375],"size":[261.53125,58],"flags":{},"order":1,"mode":4,"inputs":[{"localized_name":"frames_per_batch","name":"frames_per_batch","type":"INT","widget":{"name":"frames_per_batch"},"link":null}],"outputs":[{"localized_name":"meta_batch","name":"meta_batch","type":"VHS_BatchManager","links":[9,10,49,53]}],"properties":{"Node name for S&R":"VHS_BatchManager","cnr_id":"comfyui-videohelpersuite","ver":"1.7.2","widget_ue_connectable":{}},"widgets_values":{"frames_per_batch":61,"count":22}},{"id":46,"type":"Label (rgthree)","pos":[2856.09765625,-421.83929443359375],"size":[466.3828125,48],"flags":{"allow_interaction":true},"order":2,"mode":0,"inputs":[],"outputs":[],"title":"Fast Video Interpolation","properties":{"fontSize":48,"fontFamily":"Montserrat Black","fontColor":"#0c81ea","textAlign":"center","backgroundColor":"transparent","padding":0,"borderRadius":5,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":42,"type":"easy int","pos":[2855.719970703125,-291.0144958496094],"size":[270,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"int","name":"int","type":"INT","links":[40,42]}],"title":"FPS Multiplier","properties":{"Node name for S&R":"easy int","cnr_id":"comfyui-easy-use","ver":"1.3.0","widget_ue_connectable":{}},"widgets_values":[2],"color":"#232","bgcolor":"#353"},{"id":39,"type":"Label (rgthree)","pos":[-84.62136840820312,-413.64471435546875],"size":[336.0703125,24],"flags":{"allow_interaction":true},"order":4,"mode":0,"inputs":[],"outputs":[],"title":"For Medium Sized Videos (480p+)","properties":{"fontSize":24,"fontFamily":"Montserrat Medium","fontColor":"#ffffff","textAlign":"center","backgroundColor":"transparent","padding":0,"borderRadius":5,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":38,"type":"Label (rgthree)","pos":[-139.14886474609375,-471.58709716796875],"size":[389.0390625,48],"flags":{"allow_interaction":true},"order":5,"mode":0,"inputs":[],"outputs":[],"title":"Fast Video Upscaler","properties":{"fontSize":48,"fontFamily":"Montserrat Black","fontColor":"#ffd21e","textAlign":"center","backgroundColor":"transparent","padding":0,"borderRadius":5,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":54,"type":"Label (rgthree)","pos":[1894.149169921875,-471.58709716796875],"size":[375.84375,48],"flags":{"allow_interaction":true},"order":6,"mode":0,"inputs":[],"outputs":[],"title":"Fast Face Enhancer","properties":{"fontSize":48,"fontFamily":"Montserrat Black","fontColor":"#ed46e4","textAlign":"center","backgroundColor":"transparent","padding":0,"borderRadius":5,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":57,"type":"Label (rgthree)","pos":[1992.14892578125,-410.26947021484375],"size":[256.53515625,24],"flags":{"allow_interaction":true},"order":7,"mode":0,"inputs":[],"outputs":[],"title":"Disable For Anime Videos","properties":{"fontSize":24,"fontFamily":"Montserrat Medium","fontColor":"#ffffff","textAlign":"center","backgroundColor":"transparent","padding":0,"borderRadius":5,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":2,"type":"ImageUpscaleWithModel","pos":[553.2494506835938,65.17564392089844],"size":[233.5689453125,46],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"upscale_model","name":"upscale_model","type":"UPSCALE_MODEL","link":2},{"localized_name":"image","name":"image","type":"IMAGE","link":1}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[16]}],"properties":{"Node name for S&R":"ImageUpscaleWithModel","cnr_id":"comfy-core","ver":"0.3.46","widget_ue_connectable":{}},"widgets_values":[]},{"id":58,"type":"Label (rgthree)","pos":[560.3434448242188,-2.5590202808380127],"size":[114.8671875,26],"flags":{"allow_interaction":true},"order":8,"mode":0,"inputs":[],"outputs":[],"title":"‚¨ÖÔ∏èSelect Model","properties":{"fontSize":16,"fontFamily":"Montserrat Medium","fontColor":"#ffffff","textAlign":"center","backgroundColor":"green","padding":5,"borderRadius":10,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":48,"type":"Label (rgthree)","pos":[298.62939453125,556.8616943359375],"size":[185.5078125,26],"flags":{"allow_interaction":true},"order":9,"mode":0,"inputs":[],"outputs":[],"title":"Upload your video here ‚¨ÜÔ∏è","properties":{"fontSize":16,"fontFamily":"Montserrat Medium","fontColor":"#ffffff","textAlign":"center","backgroundColor":"green","padding":5,"borderRadius":10,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":49,"type":"Label (rgthree)","pos":[565.9590454101562,553.6591796875],"size":[162.578125,26],"flags":{"allow_interaction":true},"order":10,"mode":0,"inputs":[],"outputs":[],"title":"Set target resolution ‚¨ÜÔ∏è","properties":{"fontSize":16,"fontFamily":"Montserrat Medium","fontColor":"#ffffff","textAlign":"center","backgroundColor":"green","padding":5,"borderRadius":10,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":50,"type":"Label (rgthree)","pos":[2897.114990234375,-220.970947265625],"size":[165.953125,26],"flags":{"allow_interaction":true},"order":11,"mode":0,"inputs":[],"outputs":[],"title":"Framerate multiplier ‚¨ÜÔ∏è","properties":{"fontSize":16,"fontFamily":"Montserrat Medium","fontColor":"#ffffff","textAlign":"center","backgroundColor":"green","padding":5,"borderRadius":10,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":33,"type":"MarkdownNote","pos":[788.5654907226562,109.98178100585938],"size":[427.3004455566406,425.7584533691406],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[],"title":"Configuration ‚öôÔ∏è","properties":{"widget_ue_connectable":{}},"widgets_values":["## üîß Upscaler Configuration\n\n- If you're using a **4x upscaler** like `4x-AnimeSharp`, leave the `multiplier` as **4**.\n- If you're using a **2x upscaler**, change the value to **2**, and so on.\n\nThis multiplier is used to calculate the **input resolution**, so the final result matches your desired output resolution.\n\n---\n\n## üé• Output Resolution (Height)\n\nSet your target output resolution by selecting the desired **height**. The corresponding **width** is automatically calculated.\n\n---\n\n### üìº Landscape (16:9)\n\n| Height | Resolution       | Label         |\n|--------|------------------|---------------|\n| 720    | 1280 √ó 720       | HD            |\n| 1080   | 1920 √ó 1080      | Full HD (FHD) |\n| 1440   | 2560 √ó 1440      | 2K / QHD      |\n| 2160   | 3840 √ó 2160      | 4K / UHD      |\n\n---\n\nüìù **Tip:**  \nChoose height based on your target **video orientation** and **quality level**. The system will automatically calculate the matching width (or vice versa) using any aspect ratio\n\n"],"color":"#332922","bgcolor":"#593930"},{"id":31,"type":"MarkdownNote","pos":[-117.02420806884766,-256.9589538574219],"size":[376.0408630371094,370.6697082519531],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[],"title":"Download Models üíæ","properties":{"widget_ue_connectable":{}},"widgets_values":["# üîΩ Recommended Upscaler Models\n\n## üßç Realistic Upscaling\n**Model:** [4x_NMKD-Siax_200k.pth](https://openmodeldb.info/models/4x-NMKD-Siax-CX)\n\n> üìå Great for photorealistic details, portraits, and general video/photo upscaling.\n\n---\n\n## üßë‚Äçüé® Anime Upscaling\n**Model:** [4x-AnimeSharp.pth](https://huggingface.co/utnah/esrgan/blob/main/4x-AnimeSharp.pth)\n\n> üìå Works well on clean anime lines, flat shading, and cel-style art. Pairs well with stylized anime outputs.\n\n---\n\n## üìÅ Where to Place These\n- Drop the `.pth` model files into your `ComfyUI/models/upscale_models` folder.\n- Restart ComfyUI if models don‚Äôt appear in the dropdowns.\n"],"color":"#332922","bgcolor":"#593930"},{"id":45,"type":"Fast Groups Bypasser (rgthree)","pos":[1564.407470703125,-327.13421630859375],"size":[293.1161193847656,106],"flags":{},"order":14,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default","widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":59,"type":"JWFloatToInteger","pos":[-433.25164794921875,157.0033416748047],"size":[270,82],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":58},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[59]}],"properties":{"Node name for S&R":"JWFloatToInteger","cnr_id":"comfyui-various","ver":"5bd85aaf7616878471469c4ec7e11bbd0cef3bf2","widget_ue_connectable":{}},"widgets_values":[0,"round"]},{"id":5,"type":"VHS_VideoInfo","pos":[37.2140998840332,221.86988830566406],"size":[233.455078125,206],"flags":{"collapsed":false},"order":21,"mode":0,"inputs":[{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","link":3}],"outputs":[{"localized_name":"source_fpsüü®","name":"source_fpsüü®","type":"FLOAT","links":[41,56,58]},{"localized_name":"source_frame_countüü®","name":"source_frame_countüü®","type":"INT","links":[8]},{"localized_name":"source_durationüü®","name":"source_durationüü®","type":"FLOAT","links":null},{"localized_name":"source_widthüü®","name":"source_widthüü®","type":"INT","links":[]},{"localized_name":"source_heightüü®","name":"source_heightüü®","type":"INT","links":[60]},{"localized_name":"loaded_fpsüü¶","name":"loaded_fpsüü¶","type":"FLOAT","links":null},{"localized_name":"loaded_frame_countüü¶","name":"loaded_frame_countüü¶","type":"INT","links":null},{"localized_name":"loaded_durationüü¶","name":"loaded_durationüü¶","type":"FLOAT","links":null},{"localized_name":"loaded_widthüü¶","name":"loaded_widthüü¶","type":"INT","links":null},{"localized_name":"loaded_heightüü¶","name":"loaded_heightüü¶","type":"INT","links":null}],"properties":{"Node name for S&R":"VHS_VideoInfo","cnr_id":"comfyui-videohelpersuite","ver":"1.7.2","widget_ue_connectable":{}},"widgets_values":{}},{"id":60,"type":"DF_Int_to_Float","pos":[-475.4938049316406,584.135986328125],"size":[270,58],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"Value","name":"Value","type":"INT","widget":{"name":"Value"},"link":60}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[61]}],"properties":{"Node name for S&R":"DF_Int_to_Float","cnr_id":"derfuu_comfyui_moddednodes","ver":"d0905bed31249f2bd0814c67585cf4fe3c77c015","widget_ue_connectable":{}},"widgets_values":[1]},{"id":41,"type":"easy mathInt","pos":[2924.12109375,38.74186706542969],"size":[270,106],"flags":{"collapsed":false},"order":25,"mode":0,"inputs":[{"localized_name":"a","name":"a","type":"INT","widget":{"name":"a"},"link":59},{"localized_name":"b","name":"b","type":"INT","widget":{"name":"b"},"link":40},{"localized_name":"operation","name":"operation","type":"COMBO","widget":{"name":"operation"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[62]}],"title":"Calculate New FPS","properties":{"Node name for S&R":"easy mathInt","cnr_id":"comfyui-easy-use","ver":"1.3.0","widget_ue_connectable":{}},"widgets_values":[0,0,"multiply"]},{"id":61,"type":"DF_Int_to_Float","pos":[3256.495361328125,111.46013641357422],"size":[270,455],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"Value","name":"Value","type":"INT","widget":{"name":"Value"},"link":62}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[63]}],"properties":{"Node name for S&R":"DF_Int_to_Float","cnr_id":"derfuu_comfyui_moddednodes","ver":"d0905bed31249f2bd0814c67585cf4fe3c77c015","widget_ue_connectable":{}},"widgets_values":[1]},{"id":55,"type":"MarkdownNote","pos":[1887.4853515625,53.1899528503418],"size":[300.7191162109375,278.939208984375],"flags":{},"order":15,"mode":4,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["# üßë‚Äçü¶≤ Enabling Face Upscaling\n\n## üé• Video Face Upscaler\n**Model:** [codeformer.pth](https://github.com/sczhou/CodeFormer/releases/download/v0.1.0/codeformer.pth)\n\n> üìå Enables face restoration and enhancement using CodeFormer. Useful for improving facial detail in videos or portraits with low resolution or artifacts.\n\n---\n\n## üìÅ Where to Place It\n- Drop the `codeformer.pth` model file into your `ComfyUI/models/facerestore_models` folder.\n- Press **'R'** if the face upscaler node doesn‚Äôt detect it. Or restart ComfyUI \n"],"color":"#332922","bgcolor":"#593930"},{"id":56,"type":"Label (rgthree)","pos":[1893.637939453125,-14.806656837463379],"size":[230.705078125,24],"flags":{"allow_interaction":true},"order":16,"mode":4,"inputs":[],"outputs":[],"title":"Fidelity: 1 = closer to original, 0 = max","properties":{"fontSize":14,"fontFamily":"Montserrat Medium","fontColor":"#ffffff","textAlign":"center","backgroundColor":"green","padding":5,"borderRadius":10,"widget_ue_connectable":{}},"color":"#fff0","bgcolor":"#fff0"},{"id":3,"type":"UpscaleModelLoader","pos":[291.78082275390625,-23.19241714477539],"size":[247.455078125,58],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"localized_name":"UPSCALE_MODEL","name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[2]}],"properties":{"Node name for S&R":"UpscaleModelLoader","cnr_id":"comfy-core","ver":"0.3.46","widget_ue_connectable":{}},"widgets_values":["4xRealWebPhoto_v4.pth"],"color":"#232","bgcolor":"#353"},{"id":27,"type":"easy mathFloat","pos":[553.2494506835938,440.8038024902344],"size":[221.98202514648438,106],"flags":{},"order":28,"mode":0,"inputs":[{"localized_name":"a","name":"a","type":"FLOAT","widget":{"name":"a"},"link":null},{"localized_name":"b","name":"b","type":"FLOAT","widget":{"name":"b"},"link":35},{"localized_name":"operation","name":"operation","type":"COMBO","widget":{"name":"operation"},"link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[36]}],"title":"Target Resolution","properties":{"Node name for S&R":"easy mathFloat","cnr_id":"comfyui-easy-use","ver":"1.3.0","widget_ue_connectable":{}},"widgets_values":[2160,0,"divide"],"color":"#232","bgcolor":"#353"},{"id":51,"type":"FaceRestoreModelLoader","pos":[1893.6910400390625,-291.8701171875],"size":[270,58],"flags":{},"order":18,"mode":4,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"localized_name":"FACERESTORE_MODEL","name":"FACERESTORE_MODEL","type":"FACERESTORE_MODEL","links":[50]}],"properties":{"Node name for S&R":"FaceRestoreModelLoader","cnr_id":"facerestore_cf","ver":"ff4d7a5c102441d8f058dd6135797ffb57b6c6ad","widget_ue_connectable":{}},"widgets_values":["codeformer.pth"]},{"id":52,"type":"FaceRestoreCFWithModel","pos":[1893.6910400390625,-187.76480102539062],"size":[270,102],"flags":{},"order":31,"mode":4,"inputs":[{"localized_name":"facerestore_model","name":"facerestore_model","type":"FACERESTORE_MODEL","link":50},{"localized_name":"image","name":"image","type":"IMAGE","link":51},{"localized_name":"facedetection","name":"facedetection","type":"COMBO","widget":{"name":"facedetection"},"link":null},{"localized_name":"codeformer_fidelity","name":"codeformer_fidelity","type":"FLOAT","widget":{"name":"codeformer_fidelity"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[52,57]}],"properties":{"Node name for S&R":"FaceRestoreCFWithModel","cnr_id":"facerestore_cf","ver":"ff4d7a5c102441d8f058dd6135797ffb57b6c6ad","widget_ue_connectable":{}},"widgets_values":["retinaface_resnet50",1],"color":"#232","bgcolor":"#353"},{"id":1,"type":"VHS_LoadVideo","pos":[289.74993896484375,94.50224304199219],"size":[260.4306640625,310],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":9},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"COMBO","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[1]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"audio","name":"audio","type":"AUDIO","links":[47,48,54]},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":[3]}],"properties":{"Node name for S&R":"VHS_LoadVideo","cnr_id":"comfyui-videohelpersuite","ver":"1.7.2","widget_ue_connectable":{}},"widgets_values":{"video":"ComfyUI_00150__1.mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"AnimateDiff","videopreview":{"hidden":false,"paused":false,"params":{"filename":"ComfyUI_00150__1.mp4","type":"input","format":"video/mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}},"color":"#232","bgcolor":"#353"}],"links":[[1,1,0,2,1,"IMAGE"],[2,3,0,2,0,"UPSCALE_MODEL"],[3,1,3,5,0,"VHS_VIDEOINFO"],[8,5,1,9,0,"*"],[9,4,0,1,0,"VHS_BatchManager"],[10,4,0,8,2,"VHS_BatchManager"],[16,2,0,16,0,"IMAGE"],[19,16,0,8,0,"IMAGE"],[35,26,0,27,1,"FLOAT"],[36,27,0,16,2,"FLOAT"],[40,42,0,41,1,"INT"],[41,5,0,8,4,"FLOAT"],[42,42,0,43,4,"INT"],[44,43,0,44,0,"IMAGE"],[47,1,2,8,1,"AUDIO"],[48,1,2,44,1,"AUDIO"],[49,4,0,44,2,"VHS_BatchManager"],[50,51,0,52,0,"FACERESTORE_MODEL"],[51,16,0,52,1,"IMAGE"],[52,52,0,53,0,"IMAGE"],[53,4,0,53,2,"VHS_BatchManager"],[54,1,2,53,1,"AUDIO"],[56,5,0,53,4,"FLOAT"],[57,52,0,43,0,"IMAGE"],[58,5,0,59,0,"FLOAT"],[59,59,0,41,0,"INT"],[60,5,4,60,0,"INT"],[61,60,0,26,0,"FLOAT"],[62,41,0,61,0,"INT"],[63,61,0,44,4,"FLOAT"]],"groups":[{"id":1,"title":"simple upscaler","bounding":[-138.5001678466797,-366.5921630859375,2006.012451171875,927.5994873046875],"color":"#b58b2a","font_size":24,"flags":{}},{"id":2,"title":"Interpolation","bounding":[2843.27783203125,-364.614501953125,1335.952880859375,929.7399291992188],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Face Enhancer","bounding":[1883.6910400390625,-365.4701232910156,937.650390625,769.11279296875],"color":"#a1309b","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.42763643082240904,"offset":[790.9792788431715,962.5373530577708]},"ue_links":[],"links_added_by_ue":[],"frontendVersion":"1.35.9","VHS_latentpreview":true,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"workflowRendererVersion":"LG"},"version":0.4}
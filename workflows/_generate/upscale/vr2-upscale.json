{"id":"a95479d0-3fd1-4777-9a2e-4c97b8b69d87","revision":0,"last_node_id":9,"last_link_id":7,"nodes":[{"id":1,"type":"SeedVR2TorchCompileSettings","pos":[4337.257157927923,4984.36316286192],"size":[307.671484375,178],"flags":{},"order":0,"mode":4,"inputs":[{"localized_name":"backend","name":"backend","type":"COMBO","widget":{"name":"backend"},"link":null},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"fullgraph","name":"fullgraph","type":"BOOLEAN","widget":{"name":"fullgraph"},"link":null},{"localized_name":"dynamic","name":"dynamic","type":"BOOLEAN","widget":{"name":"dynamic"},"link":null},{"localized_name":"dynamo_cache_size_limit","name":"dynamo_cache_size_limit","type":"INT","widget":{"name":"dynamo_cache_size_limit"},"link":null},{"localized_name":"dynamo_recompile_limit","name":"dynamo_recompile_limit","type":"INT","widget":{"name":"dynamo_recompile_limit"},"link":null}],"outputs":[{"localized_name":"TORCH_COMPILE_ARGS","name":"TORCH_COMPILE_ARGS","type":"TORCH_COMPILE_ARGS","links":[1,2]}],"properties":{"cnr_id":"seedvr2_videoupscaler","ver":"690cc39379c1481159ddd451368dbf2295930fc6","widget_ue_connectable":{"backend":true,"mode":true,"fullgraph":true,"dynamic":true,"dynamo_cache_size_limit":true,"dynamo_recompile_limit":true},"Node name for S&R":"SeedVR2TorchCompileSettings","aux_id":"ainvfx/ComfyUI-SeedVR2_VideoUpscaler"},"widgets_values":["inductor","default",false,false,64,128]},{"id":2,"type":"SeedVR2LoadVAEModel","pos":[4763.847668414395,5082.412698776462],"size":[312.866796875,298],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"torch_compile_args","name":"torch_compile_args","shape":7,"type":"TORCH_COMPILE_ARGS","link":1},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"encode_tiled","name":"encode_tiled","shape":7,"type":"BOOLEAN","widget":{"name":"encode_tiled"},"link":null},{"localized_name":"encode_tile_size","name":"encode_tile_size","shape":7,"type":"INT","widget":{"name":"encode_tile_size"},"link":null},{"localized_name":"encode_tile_overlap","name":"encode_tile_overlap","shape":7,"type":"INT","widget":{"name":"encode_tile_overlap"},"link":null},{"localized_name":"decode_tiled","name":"decode_tiled","shape":7,"type":"BOOLEAN","widget":{"name":"decode_tiled"},"link":null},{"localized_name":"decode_tile_size","name":"decode_tile_size","shape":7,"type":"INT","widget":{"name":"decode_tile_size"},"link":null},{"localized_name":"decode_tile_overlap","name":"decode_tile_overlap","shape":7,"type":"INT","widget":{"name":"decode_tile_overlap"},"link":null},{"localized_name":"tile_debug","name":"tile_debug","shape":7,"type":"COMBO","widget":{"name":"tile_debug"},"link":null},{"localized_name":"offload_device","name":"offload_device","shape":7,"type":"COMBO","widget":{"name":"offload_device"},"link":null},{"localized_name":"cache_model","name":"cache_model","shape":7,"type":"BOOLEAN","widget":{"name":"cache_model"},"link":null}],"outputs":[{"localized_name":"SEEDVR2_VAE","name":"SEEDVR2_VAE","type":"SEEDVR2_VAE","links":[4]}],"properties":{"cnr_id":"seedvr2_videoupscaler","ver":"690cc39379c1481159ddd451368dbf2295930fc6","widget_ue_connectable":{"model":true,"device":true,"encode_tiled":true,"encode_tile_size":true,"encode_tile_overlap":true,"decode_tiled":true,"decode_tile_size":true,"decode_tile_overlap":true,"tile_debug":true,"offload_device":true,"cache_model":true},"Node name for S&R":"SeedVR2LoadVAEModel","aux_id":"ainvfx/ComfyUI-SeedVR2_VideoUpscaler"},"widgets_values":["ema_vae_fp16.safetensors","cuda:0",true,1024,128,true,1024,128,"false","cpu",false]},{"id":3,"type":"Note","pos":[4350.063191479949,5223.621184084751],"size":[290.1922351462714,97.95592567265356],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["Enable torch.compile optimization. First batch has compilation overhead, but speeds up subsequent batches. Best for long videos, not single images."],"color":"#432","bgcolor":"#653"},{"id":4,"type":"Note","pos":[4765.231170102887,4585.3776597254],"size":[210,94.05179298404067],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["Enable to upscale alpha/mask channel along with RGB channel (for RGBA inputs)"],"color":"#432","bgcolor":"#653"},{"id":7,"type":"SaveImage","pos":[5576.840689947361,4797.4163950690545],"size":[459.28351988779286,710.0221543464913],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":5},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","widget_ue_connectable":{"filename_prefix":true},"Node name for S&R":"SaveImage"},"widgets_values":["VR2_Upscale"]},{"id":5,"type":"SeedVR2LoadDiTModel","pos":[4767.931262164395,4795.240042526461],"size":[307.6646484375,202],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"torch_compile_args","name":"torch_compile_args","shape":7,"type":"TORCH_COMPILE_ARGS","link":2},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"blocks_to_swap","name":"blocks_to_swap","shape":7,"type":"INT","widget":{"name":"blocks_to_swap"},"link":null},{"localized_name":"swap_io_components","name":"swap_io_components","shape":7,"type":"BOOLEAN","widget":{"name":"swap_io_components"},"link":null},{"localized_name":"offload_device","name":"offload_device","shape":7,"type":"COMBO","widget":{"name":"offload_device"},"link":null},{"localized_name":"cache_model","name":"cache_model","shape":7,"type":"BOOLEAN","widget":{"name":"cache_model"},"link":null},{"localized_name":"attention_mode","name":"attention_mode","shape":7,"type":"COMBO","widget":{"name":"attention_mode"},"link":null}],"outputs":[{"localized_name":"SEEDVR2_DIT","name":"SEEDVR2_DIT","type":"SEEDVR2_DIT","links":[3]}],"properties":{"cnr_id":"seedvr2_videoupscaler","ver":"690cc39379c1481159ddd451368dbf2295930fc6","widget_ue_connectable":{"model":true,"device":true,"blocks_to_swap":true,"swap_io_components":true,"offload_device":true,"cache_model":true,"attention_mode":true},"Node name for S&R":"SeedVR2LoadDiTModel","aux_id":"ainvfx/ComfyUI-SeedVR2_VideoUpscaler"},"widgets_values":["seedvr2_ema_7b_sharp_fp16.safetensors","cuda:0",36,false,"cpu",false,"sdpa"]},{"id":6,"type":"SeedVR2VideoUpscaler","pos":[5146.643734991669,4796.6468638190545],"size":[270,386],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":7},{"localized_name":"dit","name":"dit","type":"SEEDVR2_DIT","link":3},{"localized_name":"vae","name":"vae","type":"SEEDVR2_VAE","link":4},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"resolution","name":"resolution","type":"INT","widget":{"name":"resolution"},"link":null},{"localized_name":"max_resolution","name":"max_resolution","type":"INT","widget":{"name":"max_resolution"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"uniform_batch_size","name":"uniform_batch_size","type":"BOOLEAN","widget":{"name":"uniform_batch_size"},"link":null},{"localized_name":"color_correction","name":"color_correction","type":"COMBO","widget":{"name":"color_correction"},"link":null},{"localized_name":"temporal_overlap","name":"temporal_overlap","shape":7,"type":"INT","widget":{"name":"temporal_overlap"},"link":null},{"localized_name":"prepend_frames","name":"prepend_frames","shape":7,"type":"INT","widget":{"name":"prepend_frames"},"link":null},{"localized_name":"input_noise_scale","name":"input_noise_scale","shape":7,"type":"FLOAT","widget":{"name":"input_noise_scale"},"link":null},{"localized_name":"latent_noise_scale","name":"latent_noise_scale","shape":7,"type":"FLOAT","widget":{"name":"latent_noise_scale"},"link":null},{"localized_name":"offload_device","name":"offload_device","shape":7,"type":"COMBO","widget":{"name":"offload_device"},"link":null},{"localized_name":"enable_debug","name":"enable_debug","shape":7,"type":"BOOLEAN","widget":{"name":"enable_debug"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[5]}],"properties":{"cnr_id":"seedvr2_videoupscaler","ver":"690cc39379c1481159ddd451368dbf2295930fc6","widget_ue_connectable":{"seed":true,"resolution":true,"max_resolution":true,"batch_size":true,"uniform_batch_size":true,"color_correction":true,"temporal_overlap":true,"prepend_frames":true,"input_noise_scale":true,"latent_noise_scale":true,"offload_device":true,"enable_debug":true},"Node name for S&R":"SeedVR2VideoUpscaler","aux_id":"ainvfx/ComfyUI-SeedVR2_VideoUpscaler"},"widgets_values":[42,"fixed",4096,4096,1,false,"lab",0,0,0,0,"cpu",false]},{"id":9,"type":"Reroute","pos":[4376.638945097404,4766.746423566156],"size":[75,26],"flags":{},"order":3,"mode":0,"inputs":[{"name":"","type":"*","link":null}],"outputs":[{"name":"","type":"*","links":[7]}],"properties":{"showOutputText":false,"horizontal":false}}],"links":[[1,1,0,2,0,"TORCH_COMPILE_ARGS"],[2,1,0,5,0,"TORCH_COMPILE_ARGS"],[3,5,0,6,1,"SEEDVR2_DIT"],[4,2,0,6,2,"SEEDVR2_VAE"],[5,6,0,7,0,"IMAGE"],[7,9,0,6,0,"IMAGE"]],"groups":[],"config":{},"extra":{"workflowRendererVersion":"LG","ue_links":[],"links_added_by_ue":[],"ds":{"scale":0.6066956079350468,"offset":[-2928.5023284663175,-4069.2887104796628]}},"version":0.4}